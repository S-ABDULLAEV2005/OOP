package problem4;

import java.util.Date;
import java.util.Vector;

class Person {
    private String name;

    // Constructors, getters, setters, etc.

    @Override
    public String toString() {
        return "Person [name=" + name + "]";
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj)
            return true;
        if (obj == null || getClass() != obj.getClass())
            return false;
        Person person = (Person) obj;
        return name.equals(person.name);
    }
}
/***************************************************************************************************************************/
class Employee extends Person {
    private double annualSalary;
    private Date hireDate;
    private String nationalInsuranceNumber;

    // Constructors, getters, setters, etc.

    @Override
    public String toString() {
        return "Employee [name=" + getName() +
               ", annualSalary=" + annualSalary +
               ", hireDate=" + hireDate +
               ", nationalInsuranceNumber=" + nationalInsuranceNumber + "]";
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj)
            return true;
        if (obj == null || getClass() != obj.getClass())
            return false;
        if (!super.equals(obj))
            return false;
        Employee employee = (Employee) obj;
        return Double.compare(employee.annualSalary, annualSalary) == 0 &&
               hireDate.equals(employee.hireDate) &&
               nationalInsuranceNumber.equals(employee.nationalInsuranceNumber);
    }
    
    
    public Object clone() {
        try {
            Employee clone = (Employee) super.clone();
            // If Date or other mutable objects are part of the class, consider deep cloning here.
            return clone;
        } catch (CloneNotSupportedException e) {
            throw new InternalError(e);
        }
    }
}


class Manager extends Employee implements Comparable<Manager> {
    private Vector<Employee> team;
    private double bonus;

    // Constructors, getters, setters, etc.

    @Override
    public String toString() {
        return "Manager [name=" + getName() +
               ", annualSalary=" + getAnnualSalary() +
               ", hireDate=" + getHireDate() +
               ", nationalInsuranceNumber=" + getNationalInsuranceNumber() +
               ", bonus=" + bonus +
               ", team=" + team + "]";
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj)
            return true;
        if (obj == null || getClass() != obj.getClass())
            return false;
        if (!super.equals(obj))
            return false;
        Manager manager = (Manager) obj;
        return Double.compare(manager.bonus, bonus) == 0 &&
               team.equals(manager.team);
    }

    @Override
    public int compareTo(Manager other) {
        // Compare by salary, then by bonus
        int salaryComparison = Double.compare(this.getAnnualSalary(), other.getAnnualSalary());
        if (salaryComparison != 0) {
            return salaryComparison;
        } else {
            return Double.compare(this.bonus, other.bonus);
        }
    }

    // Clone method - you can choose between shallow and deep cloning
    @Override
    public Object clone() {
        try {
            Manager clone = (Manager) super.clone();
            // If Date or other mutable objects are part of the class, consider deep cloning here.
            clone.team = (Vector<Employee>) this.team.clone();
            return clone;
        } catch (CloneNotSupportedException e) {
            throw new InternalError(e);
        }
    }
}
